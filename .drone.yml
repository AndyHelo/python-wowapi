pipeline:
  build:
    image: python:${PYTHON_VERSION}-alpine3.8
    commands:
      - find . -name "*.py[co]" -delete
      - pip install --upgrade pip
      - pip install -e .
      - pip install -e .[tests]
      - py.test
      - find . -name "*.py[co]" -delete
    when:
      include: [ master, develop, feature/*, release/* ]
matrix:
  PYTHON_VERSION:
    - "3.7"
    - "3.6"
    - "3.5"
    - "2.7"
